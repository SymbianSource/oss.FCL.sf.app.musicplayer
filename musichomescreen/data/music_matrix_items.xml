<?xml version="1.0" encoding="UTF-8"?>
<mm:content xmlns:mm="http://nokia.com/mmenu" 
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
            xsi:schemaLocation="http://nokia.com/mmenu ../mmenuschema.xsd" genre="musicsuite">
<mm:localization namespace="musicsuite_loc" source="musichomescreen.rsc"/>

    
		<mm:item count="1" template="logical_template_6" id="msuitecps"> 
				<mm:menuitem name="musicsuite_loc:R_MUSICHOMESCREEN_OPTIONS_OPEN" event="key:select" position="1" />
				<mm:menuitem name="musicsuite_loc:R_MUSICHOMESCREEN_OPTIONS_HELP" event="custom:musicsuitehelp" position="2" />
        <mm:query namespace="musicquery" service="Service.ContentPublishing" interface="IDataSource">
        <mm:command mode="sync" name="GetList">
                    <mm:key name="type" type="string" value="cp_data"/>
                    <mm:key name="filter">
                    	<mm:key name="publisher" type="string" value="MWPublisher"/>
                    	<mm:key name="content_type" type="string" value="text"/>
                    	<mm:key name="content_id" type="string" value="musicmenu_musicinfo_text1"/>
                    </mm:key>
            </mm:command>
        </mm:query>
        <mm:notify_request service="Service.ContentPublishing" interface="IDataSource">
            <mm:command name="RequestNotification">
                    <mm:key name="type" type="string" value="cp_data"/>
                    <mm:key name="filter"> 
                        <mm:key name="publisher" type="string" value="MWPublisher"/>
                    	<mm:key name="content_type" type="string" value="text"/>
                    	<mm:key name="content_id" type="string" value="musicmenu_musicinfo_text1"/>
                    </mm:key>
            </mm:command>
       </mm:notify_request>

        <mm:output alias="mul_title" type="string" value="musicquery:results/[$index]/data_map/musicmenu_musicinfo_text1data"/>
        
        <mm:query namespace="musicquery2" service="Service.ContentPublishing" interface="IDataSource">
        <mm:command mode="sync" name="GetList">
                    <mm:key name="type" type="string" value="cp_data"/>
                    <mm:key name="filter">
                    	<mm:key name="publisher" type="string" value="MWPublisher"/>
                    	<mm:key name="content_type" type="string" value="text"/>
                    	<mm:key name="content_id" type="string" value="musicmenu_musicinfo_text2"/>
                    </mm:key>
            </mm:command>
        </mm:query>
        <mm:notify_request service="Service.ContentPublishing" interface="IDataSource">
            <mm:command name="RequestNotification">
                    <mm:key name="type" type="string" value="cp_data"/>
                    <mm:key name="filter"> 
                        <mm:key name="publisher" type="string" value="MWPublisher"/>
                    	<mm:key name="content_type" type="string" value="text"/>
                    	<mm:key name="content_id" type="string" value="musicmenu_musicinfo_text2"/>
                    </mm:key>
            </mm:command>
       	</mm:notify_request>
       
        <mm:output alias="mul_detail" type="string" value="musicquery2:results/[$index]/data_map/musicmenu_musicinfo_text2data"/>
        



        <mm:query namespace="musicquery3" service="Service.ContentPublishing" interface="IDataSource">
        <mm:command mode="sync" name="GetList">
                    <mm:key name="type" type="string" value="cp_data"/>
                    <mm:key name="filter">
                    	<mm:key name="publisher" type="string" value="MWPublisher"/>
                    	<mm:key name="content_type" type="string" value="image"/>
                    	<mm:key name="content_id" type="string" value="musicmenu_musicinfo_image"/>
                    </mm:key>
            </mm:command>
        </mm:query>
        <mm:notify_request service="Service.ContentPublishing" interface="IDataSource">
            <mm:command name="RequestNotification">
                    <mm:key name="type" type="string" value="cp_data"/>
                    <mm:key name="filter"> 
                        <mm:key name="publisher" type="string" value="MWPublisher"/>
                    	<mm:key name="content_type" type="string" value="image"/>
                    	<mm:key name="content_id" type="string" value="musicmenu_musicinfo_image"/>
                    </mm:key>
            </mm:command>
       	</mm:notify_request>
       
        <mm:output alias="mul_icon">
        <mm:image bitmap="musicquery3:results/[$index]/data_map/musicmenu_musicinfo_imagedata" mask="musicquery3:results/[$index]/data_map/musicmenu_musicinfo_imagedata_mask"/>
        </mm:output>



        <mm:event event="key:select">
        	<mm:action service="Service.ContentPublishing" interface="IContentPublishing">
				<mm:command name="ExecuteAction">
					<mm:key name="type" type="string" value="cp_data"/>
					<mm:key name="filter" type="map">
						<mm:key name="publisher" type="string" value="MWPublisher"/>
						<mm:key name="content_type" type="string" value="text"/>
				    	<mm:key name="content_id" type="string" value="musicmenu_musicinfo_text1"/>
						<mm:key name="action_trigger" type="string8" value="MMInfoTrigger"/>
                    </mm:key>
                </mm:command>
            </mm:action>
        </mm:event>
    </mm:item>   
    
    <mm:item count="1" template="logical_template_6" id="msuitemymusic">
				<mm:menuitem name="musicsuite_loc:R_MUSICHOMESCREEN_OPTIONS_OPEN" event="key:select" position="1" />
				<mm:menuitem name="musicsuite_loc:R_MUSICHOMESCREEN_OPTIONS_HELP" event="custom:musicsuitehelp" position="2" />
        <mm:output alias="mul_title">
        	<mm:text value="musicsuite_loc:R_MUSICHOMESCREEN_MY_MUSIC"/>
        </mm:output>
    	<mm:query namespace="musicquery3" service="Service.ContentPublishing" interface="IDataSource">
        	<mm:command mode="sync" name="GetList">
            	<mm:key name="type" type="string" value="cp_data"/>
                <mm:key name="filter">
                   	<mm:key name="publisher" type="string" value="MpxCollectionPublisher"/>
                   	<mm:key name="content_type" type="string" value="integer"/>
                   	<mm:key name="content_id" type="string" value="musicmenu_collectioninfo_numb1"/>
                </mm:key>
            </mm:command>
        </mm:query>
        <mm:notify_request service="Service.ContentPublishing" interface="IDataSource">
            <mm:command name="RequestNotification">
     	       <mm:key name="type" type="string" value="cp_data"/>
               <mm:key name="filter"> 
               		<mm:key name="publisher" type="string" value="MpxCollectionPublisher"/>
                    <mm:key name="content_type" type="string" value="integer"/>
                   	<mm:key name="content_id" type="string" value="musicmenu_collectioninfo_numb1"/>
               </mm:key>
            </mm:command>
       </mm:notify_request>

		<!-- only one song present -->
        <mm:output alias="mul_detail" condition="musicquery3:results/[$index]/data_map/musicmenu_collectioninfo_numb1data = 1">
        	<mm:text value ="musicsuite_loc:R_MUSICHOMESCREEN_MY_MUSIC_1_SONG"/>
        </mm:output>
        <!-- multiple songs present -->
        <mm:output alias="mul_detail" condition="musicquery3:results/[$index]/data_map/musicmenu_collectioninfo_numb1data &gt; 1">
        	<!-- %N songs present -->
        	<mm:text value ="musicsuite_loc:R_MUSICHOMESCREEN_MY_MUSIC_N_SONGS">
 				<mm:param value="musicquery3:results/[$index]/data_map/musicmenu_collectioninfo_numb1data"/>
 			</mm:text>
        </mm:output>
        <!-- default - no songs present -->
        <mm:output alias="mul_detail">
        	<mm:text value="musicsuite_loc:R_MUSICHOMESCREEN_MY_MUSIC_NO_SONGS"/>
        </mm:output>
        <mm:output alias="mul_icon">
			<mm:image application_uid="0x102072C3"/>
		</mm:output>    
        
        <mm:event event="key:select">
            <mm:action service="Service.ActionHandler" interface="IDataAction">
                <mm:command name="Execute">
                    <mm:key name="plugin_id" type="uid" value="0x10207C16"/>
                    <mm:key name="data">
                        <mm:key name="type" type="string" value="MessageToMusicPlayer"/>
                        <mm:key name="message" type="string" value="GoToMusicLibrary"/>
                        <!--mm:key name="Path" type="string" value="MusicMenu"/-->
                    </mm:key>
                </mm:command>
            </mm:action>
        </mm:event>
    </mm:item>
   

    <mm:item count="1" template="logical_template_6" id="msuitemusicstore">
				<mm:menuitem name="musicsuite_loc:R_MUSICHOMESCREEN_OPTIONS_OPEN" event="key:select" position="1" />
				<mm:menuitem name="musicsuite_loc:R_MUSICHOMESCREEN_OPTIONS_HELP" event="custom:musicsuitehelp" position="2" />
        <mm:output alias="mul_title">
        	<mm:text value="musicsuite_loc:R_MUSICHOMESCREEN_NOKIA_MUSIC_STORE"/>
        </mm:output>
        <mm:output alias="mul_detail">
        		<mm:text value="musicsuite_loc:R_MUSICHOMESCREEN_NOKIA_STORE_AD"/>
        </mm:output>
        <mm:output alias="mul_icon">
						<mm:image application_uid="0x101FFB51"/>
		</mm:output> 
        <mm:event event="key:select">
            <mm:action service="Service.ActionHandler" interface="IDataAction">
                <mm:command name="Execute">
                    <mm:key>
                        <mm:key name="plugin_id" type="uid" value="0x10282E5F"/>
                        <mm:key name="data">
                            <!-- At least one sub element is required in the data key. -->
                            <mm:key name="type" type="string" value="launch_application"/>
                            <mm:key name="launch_method" type="string" value="cmd_line"/>
                            <mm:key name="application_uid" type="integer" value="0x101FFB51"/>
                        </mm:key>
                    </mm:key>
                </mm:command>
            </mm:action>      
        </mm:event>
    </mm:item>
   
   <mm:item count="1" template="logical_template_6" id="msuitefmradio">
				<mm:menuitem name="musicsuite_loc:R_MUSICHOMESCREEN_OPTIONS_OPEN" event="key:select" position="1" />
				<mm:menuitem name="musicsuite_loc:R_MUSICHOMESCREEN_OPTIONS_HELP" event="custom:musicsuitehelp" position="2" />
       	<mm:output alias="mul_title">
        	<mm:text value="musicsuite_loc:R_MUSICHOMESCREEN_FM_RADIO"/>
       	</mm:output>
       	<mm:output alias="mul_detail">
        	<mm:text value="musicsuite_loc:R_MUSICHOMESCREEN_FM_RADIO_AD"/>
       	</mm:output>
       	<mm:output alias="mul_icon">
			<mm:image application_uid="0x10207A89"/>
		</mm:output> 
        <mm:event event="key:select">
            <mm:action service="Service.ActionHandler" interface="IDataAction">
                <mm:command name="Execute">
                    <mm:key>
                        <mm:key name="plugin_id" type="uid" value="0x10282E5F"/>
                        <mm:key name="data">
                            <!-- At least one sub element is required in the data key. -->
                            <mm:key name="type" type="string" value="launch_application"/>
                            <mm:key name="launch_method" type="string" value="cmd_line"/>
                            <mm:key name="application_uid" type="integer" value="0x10207A89"/>
                        </mm:key>
                    </mm:key>
                </mm:command>
            </mm:action>
        </mm:event> 
    </mm:item>
           
</mm:content>
