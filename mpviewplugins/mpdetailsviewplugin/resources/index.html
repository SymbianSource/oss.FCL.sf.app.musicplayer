<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />        
        <title>Publish</title>

        <link type="text/css" rel="stylesheet" href="http://hf.ci.wipsl.com/PleiXXPTsup/noheva-be/css/ovi.player.share.ui.css" />
		<link type="text/css" rel="stylesheet" href="musiccontext.css" />		<!-- CSS for music context area -->
		
		<!-- Player scripts -->
        <script type="text/javascript" src="http://hf.ci.wipsl.com/PleiXXPTsup/noheva-be/js/publishplayer.js"></script>
		
		<!-- Local stuff to be implemented by user application to provide the contextual information -->
		<script type="text/javascript" src="musiccontext.js"></script>
		
		<!-- Error recovery in case page player script loading fails -->
		 <script type="text/javascript">
		 var mybody = {
				onLoad: function () {
					if (window['music'] &&
						window['ovi'] &&
						ovi['player'] &&
						ovi.player['publish'] ) {
						music.initPlayer();
						music.updateContextArea();
					} else {
						showErrorMessage();
					}
				},
				onFocus: function () {
					if (window['music']) {
						music.updateContextArea();
					}
				}
			}
			function showErrorMessage() {
				var errorUi = "<H1>" + window.context.errorMessage() + "</H1>";
				errorUi += "<input type='button' value='Close' onClick='context.owner().closeShareDialog();'>";
				document.getElementById("ovi.player.share.ui").innerHTML = errorUi;
			}
		</script>		

    </head>
	<!-- onfocus refreshes only the song when publishplayer is set active / deactive -->
    <body onload="mybody.onLoad();" onfocus="mybody.onFocus();">
		<div id="ovi.player.share.ui"></div>
    </body>
</html>
